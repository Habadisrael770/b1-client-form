<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>×˜×•×¤×¡ ×”×§××ª ×œ×§×•×—</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
    body{margin:0;font-family:'Rubik',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#20d85b 0%,#1aaf4f 100%);color:#000;min-height:100vh;padding:10px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    
    /* Progress Bar */
    .progress-container{background:#fff;padding:20px;border-radius:16px;margin-bottom:20px;box-shadow:0 2px 8px rgba(0,0,0,.1)}
    .progress-bar{width:100%;height:6px;background:#e0e0e0;border-radius:3px;overflow:hidden;margin-bottom:10px}
    .progress-fill{height:100%;background:linear-gradient(90deg,#20d85b 0%,#fdf76e 100%);width:0%;transition:width .3s ease}
    .progress-text{text-align:center;font-size:13px;color:#666;font-weight:500}
    
    .form-container{max-width:800px;margin:0 auto;background:#fff;padding:30px 20px;border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,.1);overflow-x:hidden}
    h1{color:#20d85b;font-weight:700;font-size:28px;margin:0 0 10px;text-align:center;animation:slideDown .5s ease}
    .subtitle{text-align:center;color:#666;font-size:14px;margin-bottom:30px}
    h2{color:#20d85b;font-weight:600;font-size:20px;margin:30px 0 20px;padding-bottom:10px;border-bottom:3px solid #20d85b}
    
    .form-group{margin-bottom:18px;animation:fadeIn .4s ease}
    label{display:block;font-weight:600;color:#333;margin-bottom:8px;font-size:14px}
    label.required::after{content:" *";color:#dc3545;font-weight:700}
    
    input[type=text],input[type=tel],input[type=email],input[type=file],input[type=number],input[type=time],textarea,select{width:100%;padding:12px 14px;border:2px solid #e0e0e0;border-radius:10px;font-size:16px;background:#fff;transition:all .3s ease;-webkit-appearance:none;-moz-appearance:none;appearance:none;font-family:'Rubik',sans-serif}
    input:focus,select:focus,textarea:focus{outline:none;border-color:#20d85b;box-shadow:0 0 12px rgba(32,216,91,.25);background:#f8fff9}
    input.valid,select.valid,textarea.valid{border-color:#28a745;background-color:#f0fff0}
    input.invalid,select.invalid,textarea.invalid{border-color:#dc3545;background-color:#fff5f5}
    
    .file-upload-container{border:2px dashed #20d85b;border-radius:10px;padding:16px;background:#f8fff9;margin-top:8px;transition:all .3s ease;text-align:center}
    .file-upload-container:hover{border-color:#1aaf4f;background:#f0fff0}
    .file-upload-container.valid{border-color:#28a745;background-color:#f0fff0;border-style:solid}
    .file-upload-container.invalid{border-color:#dc3545;background-color:#fff5f5;border-style:solid}
    
    .file-upload-label{display:inline-flex;align-items:center;gap:8px;font-weight:600;color:#20d85b;cursor:pointer;padding:12px 20px;background:#fff;border:2px solid #20d85b;border-radius:25px;transition:all .3s ease;font-size:14px}
    .file-upload-label:hover{background:#20d85b;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px rgba(32,216,91,.3)}
    .file-upload-label:active{transform:translateY(0)}
    .file-upload-label::before{content:"ğŸ“";font-size:16px;margin-right:4px}
    input[type=file]{display:none}
    
    .file-name{margin-top:10px;font-size:13px;color:#28a745;padding:8px;background:#f0fff0;border-radius:6px;word-break:break-all;font-weight:500}
    .file-name.error{color:#dc3545;background:#fff5f5}
    
    .error{color:#dc3545;font-size:12px;margin-top:6px;display:none;font-weight:500;animation:shake .3s ease}
    .success-icon{color:#28a745;margin-right:4px}
    
    .submit-btn{background:linear-gradient(135deg,#fdf76e 0%,#f0e85e 100%);color:#000;font-weight:700;padding:16px;font-size:18px;border:none;border-radius:25px;cursor:pointer;margin-top:40px;display:block;width:100%;transition:all .3s ease;box-shadow:0 4px 15px rgba(253,247,110,.4);position:relative;overflow:hidden}
    .submit-btn:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(253,247,110,.5)}
    .submit-btn:active{transform:translateY(0)}
    .submit-btn:disabled{opacity:.6;cursor:not-allowed;transform:none}
    .submit-btn.loading::after{content:"â³ ×©×•×œ×—...";position:absolute;left:0;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.1)}
    
    #successMsg{display:none;color:#155724;font-weight:600;margin-top:20px;text-align:center;padding:18px;background:#d4edda;border-radius:10px;border:2px solid #28a745;font-size:16px;animation:slideUp .4s ease}
    #successMsg::before{content:"âœ… ";font-size:20px;margin-left:8px}
    
    #errorMsg{display:none;color:#721c24;font-weight:600;margin-top:20px;text-align:center;padding:18px;background:#f8d7da;border-radius:10px;border:2px solid #dc3545;font-size:16px;animation:slideUp .4s ease}
    #errorMsg::before{content:"âŒ ";font-size:20px;margin-left:8px}
    
    /* Delivery Schedule */
    .delivery-schedule-integrated{display:flex;flex-direction:column;gap:12px;margin-top:15px}
    .day-slot-card-integrated{background:#fff;border-radius:12px;box-shadow:0 2px 12px rgba(0,0,0,.08);overflow:hidden;transition:all .3s ease;border:2px solid #e0e0e0}
    .day-slot-card-integrated:hover{box-shadow:0 4px 16px rgba(32,216,91,.12)}
    .day-slot-card-integrated.active{box-shadow:0 6px 24px rgba(32,216,91,.2);border-color:#20d85b;background:#f8fff9}
    
    .day-header-integrated{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;background:linear-gradient(135deg,#f8fff9 0%,#f0f9ff 100%);cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent;transition:all .3s ease}
    .day-header-integrated:active{background:#e8f5e8;transform:scale(.98)}
    .day-name-integrated{font-weight:700;color:#20d85b;font-size:16px}
    .day-summary-integrated{font-size:13px;color:#666;margin-inline-start:auto;margin-inline-end:8px}
    .chevron-integrated{font-size:14px;color:#20d85b;transition:transform .3s ease}
    .day-slot-card-integrated.active .chevron-integrated{transform:rotate(180deg)}
    
    .day-body-integrated{max-height:0;overflow:hidden;transition:max-height .4s cubic-bezier(.4,0,.2,1);background:#fff}
    .day-slot-card-integrated.active .day-body-integrated{max-height:800px}
    
    .range-row-integrated,.window-row-integrated{padding:12px 16px 0;display:flex;flex-direction:column;gap:6px}
    .range-row-integrated label,.window-row-integrated label{font-size:14px;color:#333;font-weight:600}
    .range-inputs-integrated{display:flex;align-items:center;gap:8px}
    .range-inputs-integrated span{font-size:13px;color:#666;font-weight:500}
    
    .day-body-integrated input[type=time],.day-body-integrated select{flex:1;padding:10px 12px;border:1px solid #ddd;border-radius:8px;font-size:15px;background:#fff;transition:border-color .2s ease}
    .day-body-integrated input[type=time]:focus,.day-body-integrated select:focus{outline:none;border-color:#20d85b;box-shadow:0 0 0 2px rgba(32,216,91,.2)}
    
    .slots-list-integrated{padding:12px 16px 16px;display:flex;flex-direction:column;gap:10px}
    .slot-item-integrated{background:#f8f9fa;border:1px solid #e0e0e0;border-radius:10px;padding:10px 12px;font-size:14px;color:#333;display:flex;align-items:center;justify-content:space-between;transition:all .2s ease}
    .slot-item-integrated:hover{background:#f0f0f0;border-color:#20d85b}
    .slot-text-integrated{flex:1;font-weight:500}
    
    .slot-remove-integrated{background:#dc3545;color:#fff;border:none;border-radius:50%;width:24px;height:24px;font-size:14px;cursor:pointer;transition:all .3s ease;font-weight:700;display:flex;align-items:center;justify-content:center}
    .slot-remove-integrated:hover{background:#c82333;transform:scale(1.15)}
    .slot-remove-integrated:active{transform:scale(.95)}
    
    /* Zones */
    .zone-item{display:grid;grid-template-columns:1fr;gap:8px;margin-bottom:12px;padding:12px;border:1px solid #e0e0e0;border-radius:10px;background:#f9f9f9;transition:all .2s ease}
    .zone-item:hover{border-color:#20d85b;background:#f8fff9}
    @media (min-width:481px){.zone-item{grid-template-columns:2fr 1fr 1fr}}
    
    .branches-list{display:grid;grid-template-columns:1fr;gap:15px;margin-top:10px}
    @media (min-width:481px){.branches-list{grid-template-columns:1fr 1fr}}
    
    .checkbox-group{display:flex;align-items:center;gap:10px;margin-top:10px}
    .checkbox-group input[type=checkbox]{width:18px;height:18px;cursor:pointer;accent-color:#20d85b}
    
    .min-order-group{display:grid;grid-template-columns:1fr;gap:20px;margin-top:10px}
    @media (min-width:481px){.min-order-group{grid-template-columns:1fr 1fr}}
    
    button[onclick*="add"]{background:#20d85b;color:#fff;border:none;padding:12px 20px;border-radius:20px;font-size:14px;font-weight:600;cursor:pointer;margin-top:8px;transition:all .3s ease;box-shadow:0 2px 8px rgba(32,216,91,.2)}
    button[onclick*="add"]:hover{background:#1aaf4f;transform:translateY(-2px);box-shadow:0 4px 12px rgba(32,216,91,.3)}
    button[onclick*="add"]:active{transform:translateY(0)}
    
    textarea{min-height:120px;resize:vertical;font-family:'Rubik',sans-serif}
    
    /* Animations */
    @keyframes slideDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}
    @keyframes slideUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    @keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-5px)}75%{transform:translateX(5px)}}
    @keyframes slideInIntegrated{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
    
    .day-slot-card-integrated{animation:slideInIntegrated .4s ease-out}
    
    /* Responsive */
    @media (max-width:480px){
      body{padding:5px}
      .form-container{padding:15px;border-radius:12px}
      .progress-container{padding:15px;margin-bottom:15px}
      h1{font-size:22px}
      h2{font-size:18px;margin:20px 0 15px}
      .day-header-integrated{padding:12px 14px}
      .day-name-integrated{font-size:15px}
      .day-summary-integrated{font-size:12px}
      .range-row-integrated,.window-row-integrated{padding:10px 14px 0}
      .slots-list-integrated{padding:10px 14px 14px}
      .day-body-integrated input[type=time],.day-body-integrated select{font-size:16px!important}
      input,select,textarea{font-size:16px!important}
      .submit-btn{padding:14px;font-size:16px;margin-top:30px}
    }
    
    @media (min-width:481px){
      .delivery-schedule-integrated{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px}
      .day-body-integrated{max-height:none!important}
      .day-header-integrated{cursor:default}
      .chevron-integrated{display:none}
    }
    
    @supports (-webkit-touch-callout: none){
      input,select,textarea{font-size:16px!important}
    }
  </style>
</head>
<body>

  <div class="progress-container">
    <div class="progress-bar">
      <div class="progress-fill" id="progressFill"></div>
    </div>
    <div class="progress-text">
      <span id="progressText">×”×ª×—×œ ×œ××œ× ××ª ×”×˜×•×¤×¡</span>
    </div>
  </div>

  <div class="form-container">
    <h1>ğŸª ×˜×•×¤×¡ ×”×§××ª ×œ×§×•×—</h1>
    <p class="subtitle">×× × ××œ× ××ª ×›×œ ×”×©×“×•×ª ×”× ×“×¨×©×™× ×›×“×™ ×œ×”×ª×—×™×œ</p>
    
    <form id="clientForm" enctype="multipart/form-data">

      <!-- ×¤×¨×˜×™ ×‘×¡×™×¡ -->
      <h2>ğŸ“‹ ×¤×¨×˜×™ ×‘×¡×™×¡</h2>
      
      <div class="form-group">
        <label class="required">×©× ×”×—× ×•×ª (×›×¤×™ ×©×ª×•×¤×™×¢ ×‘××ª×¨):</label>
        <input type="text" name="store_name" id="store_name" placeholder="×œ×“×•×’××”: ××›×•×œ×ª ×¨×—×•×‘ ×”×¨××©×™" required>
        <div class="error" id="store_name_error">× × ×œ×”×–×™×Ÿ ×©× ×—× ×•×ª</div>
      </div>

      <div class="form-group">
        <label class="required">×›×ª×•×‘×ª ×”×—× ×•×ª:</label>
        <input type="text" name="store_address" id="store_address" placeholder="×œ×“×•×’××”: ×¨×—×•×‘ ×”×¨××©×™ 123, ×ª×œ ××‘×™×‘" required>
        <div class="error" id="store_address_error">× × ×œ×”×–×™×Ÿ ×›×ª×•×‘×ª</div>
      </div>

      <div class="form-group">
        <label class="required">×˜×œ×¤×•×Ÿ:</label>
        <input type="tel" name="store_phone" id="store_phone" placeholder="×œ×“×•×’××”: 03-1234567" required>
        <div class="error" id="store_phone_error">× × ×œ×”×–×™×Ÿ ××¡×¤×¨ ×˜×œ×¤×•×Ÿ ×ª×§×™×Ÿ</div>
      </div>

      <div class="form-group">
        <label class="required">××™×™×œ:</label>
        <input type="email" name="store_email" id="store_email" placeholder="×œ×“×•×’××”: info@store.com" required>
        <div class="error" id="store_email_error">× × ×œ×”×–×™×Ÿ ×›×ª×•×‘×ª ××™×™×œ ×ª×§×™× ×”</div>
      </div>

      <div class="form-group">
        <label class="required">×©× ××™×© ×§×©×¨:</label>
        <input type="text" name="contact_name" id="contact_name" placeholder="×œ×“×•×’××”: ×“×•×“ ×›×”×Ÿ" required>
        <div class="error" id="contact_name_error">× × ×œ×”×–×™×Ÿ ×©× ××™×© ×§×©×¨</div>
      </div>

      <div class="form-group">
        <label class="required">×˜×œ×¤×•×Ÿ ××™×© ×§×©×¨ ×œ×”×–×× ×•×ª:</label>
        <input type="tel" name="contact_phone" id="contact_phone" placeholder="×œ×“×•×’××”: 050-1234567" required>
        <div class="error" id="contact_phone_error">× × ×œ×”×–×™×Ÿ ××¡×¤×¨ ×˜×œ×¤×•×Ÿ ×ª×§×™×Ÿ</div>
      </div>

      <div class="form-group">
        <label class="required">×ª××•× ×ª ×ª.×– ×©×œ ××™×© ×§×©×¨:</label>
        <div class="file-upload-container" id="id_photo_container">
          <label class="file-upload-label" for="id_photo">×‘×—×¨ ×§×•×‘×¥</label>
          <input type="file" name="id_photo" id="id_photo" accept="image/*" required>
          <div class="file-name" id="id_photo_name"></div>
        </div>
        <div class="error" id="id_photo_error">× × ×œ×¦×¨×£ ×ª××•× ×ª ×ª.×–</div>
      </div>

      <!-- ×¡×•×’ ×¢×¡×§ -->
      <h2>ğŸ¢ ×¡×•×’ ×”×¢×¡×§</h2>
      
      <div class="form-group">
        <label class="required">×‘×—×¨ ×¡×•×’ ×¢×¡×§:</label>
        <select name="business_type" id="business_type" onchange="toggleBusinessFields(this.value)" required>
          <option value="">-- ×‘×—×¨ ×¡×•×’ ×¢×¡×§ --</option>
          <option value="company">×—×‘×¨×” ×‘×¢"×</option>
          <option value="authorized">×¢×•×¡×§ ××•×¨×©×”</option>
        </select>
        <div class="error" id="business_type_error">× × ×œ×‘×—×•×¨ ×¡×•×’ ×¢×¡×§</div>
      </div>

      <div class="form-group" id="company_number_group" style="display:none;">
        <label class="required">××¡×¤×¨ ×—×‘×¨×”:</label>
        <input type="text" name="company_number" id="company_number" placeholder="×œ×“×•×’××”: 123456789">
        <div class="error" id="company_number_error">× × ×œ×”×–×™×Ÿ ××¡×¤×¨ ×—×‘×¨×”</div>
      </div>

      <div class="form-group" id="company_files_group" style="display:none;">
        <label class="required">×ª×¢×•×“×ª ×”×ª××’×“×•×ª:</label>
        <div class="file-upload-container" id="company_files_container">
          <label class="file-upload-label" for="company_files">×‘×—×¨ ×§×•×‘×¥</label>
          <input type="file" name="company_files" id="company_files" accept=".pdf,.doc,.docx,.jpg,.png">
          <div class="file-name" id="company_files_name"></div>
        </div>
        <div class="error" id="company_files_error">× × ×œ×¦×¨×£ ×ª×¢×•×“×ª ×”×ª××’×“×•×ª</div>
      </div>

      <div class="form-group" id="authorized_number_group" style="display:none;">
        <label class="required">××¡×¤×¨ ×¢×•×¡×§ ××•×¨×©×”:</label>
        <input type="text" name="authorized_number" id="authorized_number" placeholder="×œ×“×•×’××”: 123456789">
        <div class="error" id="authorized_number_error">× × ×œ×”×–×™×Ÿ ××¡×¤×¨ ×¢×•×¡×§ ××•×¨×©×”</div>
      </div>

      <div class="form-group" id="authorized_files_group" style="display:none;">
        <label class="required">××™×©×•×¨ ×¢×•×¡×§ ××•×¨×©×”:</label>
        <div class="file-upload-container" id="authorized_files_container">
          <label class="file-upload-label" for="authorized_files">×‘×—×¨ ×§×•×‘×¥</label>
          <input type="file" name="authorized_files" id="authorized_files" accept=".pdf,.doc,.docx,.jpg,.png">
          <div class="file-name" id="authorized_files_name"></div>
        </div>
        <div class="error" id="authorized_files_error">× × ×œ×¦×¨×£ ××™×©×•×¨ ×¢×•×¡×§ ××•×¨×©×”</div>
      </div>

      <!-- ×§×‘×¦×™× × ×•×¡×¤×™× -->
      <h2>ğŸ“ ×§×‘×¦×™× × ×•×¡×¤×™×</h2>
      
      <div class="form-group">
        <label>×œ×•×’×• â€“ ×ª××•× ×”:</label>
        <div class="file-upload-container" id="logo_file_container">
          <label class="file-upload-label" for="logo_file">×‘×—×¨ ×§×•×‘×¥</label>
          <input type="file" name="logo_file" id="logo_file" accept="image/*">
          <div class="file-name" id="logo_file_name"></div>
        </div>
      </div>

      <div class="form-group">
        <label>×ª×§× ×•×Ÿ:</label>
        <div class="file-upload-container" id="terms_file_container">
          <label class="file-upload-label" for="terms_file">×‘×—×¨ ×§×•×‘×¥</label>
          <input type="file" name="terms_file" id="terms_file" accept=".pdf,.doc,.docx">
          <div class="file-name" id="terms_file_name"></div>
        </div>
      </div>

      <div class="form-group">
        <label>×”×¦×”×¨×ª × ×’×™×©×•×ª:</label>
        <div class="file-upload-container" id="accessibility_file_container">
          <label class="file-upload-label" for="accessibility_file">×‘×—×¨ ×§×•×‘×¥</label>
          <input type="file" name="accessibility_file" id="accessibility_file" accept=".pdf,.doc,.docx">
          <div class="file-name" id="accessibility_file_name"></div>
        </div>
      </div>

      <!-- ×©×¢×•×ª ×¤×¢×™×œ×•×ª -->
      <h2>â° ×©×¢×•×ª ×¤×¢×™×œ×•×ª ×”×¢×¡×§</h2>
      <p style="color:#666;font-size:13px;margin-bottom:15px;">×”×’×“×¨ ××ª ×©×¢×•×ª ×”×¤×¢×™×œ×•×ª ×œ×›×œ ×™×•×</p>
      
      <div class="delivery-schedule-integrated" id="scheduleContainer"></div>

      <!-- ×©×¢×•×ª ×—×œ×•×§×” -->
      <h2>ğŸšš ×©×¢×•×ª ×—×œ×•×§×” ×œ×¤×™ ×™××™×</h2>
      <p style="color:#666;font-size:13px;margin-bottom:15px;">×”×’×“×¨ ××ª ×—×œ×•× ×•×ª ×”××©×œ×•×— ×œ×›×œ ×™×•×</p>
      
      <div class="delivery-schedule-integrated" id="deliveryScheduleContainer"></div>

      <!-- ×™××™ ×—×œ×•×§×” -->
      <h2>ğŸ“ ××–×•×¨×™ ××©×œ×•×—</h2>
      <div class="delivery-zones" id="zonesContainer"></div>
      <button type="button" onclick="addZone()">+ ×”×•×¡×£ ××–×•×¨</button>

      <!-- ×¡× ×™×¤×™× -->
      <h2>ğŸª ×¡× ×™×¤×™×</h2>
      <div class="branches-list" id="branchesContainer"></div>
      <button type="button" onclick="addBranch()">+ ×”×•×¡×£ ×¡× ×™×£</button>

      <!-- ×”×’×“×¨×•×ª × ×•×¡×¤×•×ª -->
      <h2>âš™ï¸ ×”×’×“×¨×•×ª × ×•×¡×¤×•×ª</h2>
      
      <div class="form-group">
        <label>×—×‘×¨×ª ×§×•×¤×•×ª:</label>
        <input type="text" name="payment_company" id="payment_company" placeholder="×œ×“×•×’××”: 2PAY">
      </div>

      <div class="form-group">
        <label>××¢×¨×›×ª ×œ×™×§×•×˜ ×©×œ× ×•:</label>
        <input type="text" name="pickup_system" id="pickup_system" placeholder="×œ×“×•×’××”: Shopify">
      </div>

      <div class="min-order-group">
        <div class="form-group">
          <label>×¡×›×•× ××™× ×™××•× ×”×–×× ×”:</label>
          <input type="number" name="min_order" id="min_order" placeholder="×œ×“×•×’××”: 50" min="0">
        </div>
        <div class="form-group">
          <label>××©×œ×•×— ×—×™× × ××¡×›×•×:</label>
          <input type="number" name="free_shipping_from" id="free_shipping_from" placeholder="×œ×“×•×’××”: 100" min="0">
        </div>
      </div>

      <div class="form-group">
        <label>×§×•×“ ×¤×™×¡×§×œ ×©×œ ×’×•×’×œ (GTag):</label>
        <input type="text" name="gtag_code" id="gtag_code" placeholder="×œ×“×•×’××”: G-XXXXXXXXXX">
      </div>

      <div class="form-group">
        <label>×¤×™×§×¡×œ ×©×œ ×¤×™×™×¡×‘×•×§ (Meta Pixel):</label>
        <input type="text" name="facebook_pixel" id="facebook_pixel" placeholder="×œ×“×•×’××”: 123456789">
      </div>

      <div class="form-group">
        <label>×•×•××˜×¡××¤ (××¡×¤×¨ ×‘×¤×•×¨××˜ ×‘×™× ×œ××•××™):</label>
        <input type="tel" name="whatsapp_number" id="whatsapp_number" placeholder="×œ×“×•×’××”: +972501234567">
      </div>

      <!-- ×”×¢×¨×•×ª -->
      <h2>ğŸ“ ×”×¢×¨×•×ª × ×•×¡×¤×•×ª</h2>
      <div class="form-group">
        <label>×”×¢×¨×•×ª:</label>
        <textarea name="notes" id="notes" placeholder="×›×ª×•×‘ ×›××Ÿ ×”×¢×¨×•×ª ××• ××™×“×¢ × ×•×¡×£..."></textarea>
      </div>

      <!-- ×›×¤×ª×•×¨ ×©×œ×™×—×” -->
      <button type="submit" class="submit-btn" id="submitBtn">×©×œ×— ×¤×¨×˜×™×</button>
      
      <div id="successMsg">×”×˜×•×¤×¡ × ×©×œ×— ×‘×”×¦×œ×—×”! × ×—×–×•×¨ ××œ×™×š ×‘×§×¨×•×‘</div>
      <div id="errorMsg">××™×¨×¢×” ×©×’×™××” ×‘×©×œ×™×—×”. ×× × × ×¡×” ×©×•×‘</div>

    </form>
  </div>

  <script>
    // Days configuration
    const days = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'];
    const dayNames = ['×™×•× ×¨××©×•×Ÿ', '×™×•× ×©× ×™', '×™×•× ×©×œ×™×©×™', '×™×•× ×¨×‘×™×¢×™', '×™×•× ×—××™×©×™', '×™×•× ×©×™×©×™', '×©×‘×ª'];
    const defaultWindows = {
      sunday: 1, monday: 3, tuesday: 3, wednesday: 3, thursday: 3, friday: 2, saturday: 1
    };
    const defaultTimes = {
      sunday: '20:00', monday: '09:00', tuesday: '09:00', wednesday: '09:00', thursday: '09:00', friday: '09:00', saturday: '20:00'
    };

    // Initialize form
    document.addEventListener('DOMContentLoaded', () => {
      buildScheduleContainers();
      buildDeliveryScheduleContainers();
      setupFileUploads();
      setupFormValidation();
      setupProgressTracking();
    });

    function buildScheduleContainers() {
      const container = document.getElementById('scheduleContainer');
      days.forEach((day, index) => {
        const card = document.createElement('div');
        card.className = 'day-slot-card-integrated';
        card.innerHTML = `
          <div class="day-header-integrated" onclick="toggleDayIntegrated('${day}')">
            <span class="day-name-integrated">${dayNames[index]}</span>
            <span class="chevron-integrated">â–¼</span>
          </div>
          <div class="day-body-integrated" data-hours-day="${day}">
            <div class="form-group" style="padding:12px 16px 0;">
              <label>
                <input type="checkbox" name="closed_${day}" class="closed-checkbox" data-day="${day}">
                ×”×¢×¡×§ ×¡×’×•×¨ ×‘×™×•× ×–×”
              </label>
            </div>
            <div class="range-row-integrated">
              <label>×©×¢×•×ª ×¤×¢×™×œ×•×ª:</label>
              <div class="range-inputs-integrated">
                <input type="time" name="${day}_start" value="${defaultTimes[day]}" class="hours-input">
                <span>×¢×“</span>
                <input type="time" name="${day}_end" value="22:00" class="hours-input">
              </div>
            </div>
          </div>
        `;
        container.appendChild(card);
      });

      // Add closed checkbox listeners
      document.querySelectorAll('.closed-checkbox').forEach(checkbox => {
        checkbox.addEventListener('change', function() {
          const day = this.dataset.day;
          const hoursSection = document.querySelector(`[data-hours-day="${day}"]`);
          const inputs = hoursSection.querySelectorAll('input[type="time"]');
          inputs.forEach(input => input.disabled = this.checked);
          hoursSection.style.opacity = this.checked ? '0.5' : '1';
        });
      });

      // Open first day by default
      toggleDayIntegrated('sunday');
    }

    function buildDeliveryScheduleContainers() {
      const container = document.getElementById('deliveryScheduleContainer');
      days.forEach((day, index) => {
        const card = document.createElement('div');
        card.className = 'day-slot-card-integrated';
        card.innerHTML = `
          <div class="day-header-integrated" onclick="toggleDayIntegrated('delivery_${day}')">
            <span class="day-name-integrated">${dayNames[index]}</span>
            <span class="day-summary-integrated" id="summary_${day}">${defaultWindows[day]} ×—×œ×•× ×•×ª</span>
            <span class="chevron-integrated">â–¼</span>
          </div>
          <div class="day-body-integrated" data-hours-day="delivery_${day}">
            <div class="window-row-integrated">
              <label>××¡×¤×¨ ×—×œ×•× ×•×ª:</label>
              <select name="${day}_window_integrated" onchange="buildSlotsIntegrated(this)">
                <option value="1">1 ×—×œ×•×Ÿ</option>
                <option value="2">2 ×—×œ×•× ×•×ª</option>
                <option value="3" selected>3 ×—×œ×•× ×•×ª</option>
                <option value="4">4 ×—×œ×•× ×•×ª</option>
                <option value="5">5 ×—×œ×•× ×•×ª</option>
              </select>
            </div>
            <div class="window-row-integrated">
              <label>××•×¨×š ×—×œ×•×Ÿ ××©×œ×•×— (×‘×“×§×•×ª):</label>
              <input type="number" name="${day}_window_duration" value="120" min="30" max="480" step="30">
            </div>
            <div class="window-row-integrated">
              <label>×©×¢×ª ×”×ª×—×œ×”:</label>
              <input type="time" name="${day}_delivery_start" value="${defaultTimes[day]}" onchange="buildSlotsIntegrated(document.querySelector('select[name=${day}_window_integrated]'))">
            </div>
            <div class="slots-list-integrated" id="slots_${day}"></div>
          </div>
        `;
        container.appendChild(card);
      });
    }

    function toggleDayIntegrated(day) {
      const card = document.querySelector(`[data-hours-day="${day}"]`)?.closest('.day-slot-card-integrated') ||
                   document.querySelector(`[data-hours-day="delivery_${day}"]`)?.closest('.day-slot-card-integrated');
      if (card) {
        card.classList.toggle('active');
      }
    }

    function buildSlotsIntegrated(select) {
      const day = select.name.replace('_window_integrated', '');
      const numWindows = parseInt(select.value);
      const duration = parseInt(document.querySelector(`input[name="${day}_window_duration"]`).value);
      const startTime = document.querySelector(`input[name="${day}_delivery_start"]`).value;
      const [hours, minutes] = startTime.split(':').map(Number);
      
      const slots = [];
      let currentHours = hours;
      let currentMinutes = minutes;

      for (let i = 0; i < numWindows; i++) {
        const start = `${String(currentHours).padStart(2, '0')}:${String(currentMinutes).padStart(2, '0')}`;
        currentMinutes += duration;
        if (currentMinutes >= 60) {
          currentHours += Math.floor(currentMinutes / 60);
          currentMinutes = currentMinutes % 60;
        }
        const end = `${String(currentHours).padStart(2, '0')}:${String(currentMinutes).padStart(2, '0')}`;
        slots.push({ start, end });
      }

      const slotsContainer = document.getElementById(`slots_${day}`);
      slotsContainer.innerHTML = slots.map((slot, i) => `
        <div class="slot-item-integrated">
          <span class="slot-text-integrated">×—×œ×•×Ÿ ${i + 1}: ${slot.start}-${slot.end}</span>
          <button type="button" class="slot-remove-integrated" onclick="removeSlot(this)">Ã—</button>
        </div>
      `).join('');

      updateDaySummary(day);
    }

    function updateDaySummary(day) {
      const numWindows = document.querySelector(`select[name="${day}_window_integrated"]`).value;
      const summary = document.getElementById(`summary_${day}`);
      if (summary) {
        summary.textContent = `${numWindows} ×—×œ×•× ×•×ª`;
      }
    }

    function removeSlot(btn) {
      btn.parentElement.remove();
    }

    function addZone() {
      const container = document.getElementById('zonesContainer');
      const zone = document.createElement('div');
      zone.className = 'zone-item';
      zone.innerHTML = `
        <input type="text" placeholder="×©× ×”××–×•×¨" class="zone-name">
        <input type="number" placeholder="××—×™×¨ ××©×œ×•×—" class="zone-price" min="0" step="0.01">
        <button type="button" onclick="this.parentElement.remove()" style="background:#dc3545;color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;">××—×§</button>
      `;
      container.appendChild(zone);
    }

    function addBranch() {
      const container = document.getElementById('branchesContainer');
      const branch = document.createElement('div');
      branch.style.padding = '12px';
      branch.style.border = '1px solid #e0e0e0';
      branch.style.borderRadius = '8px';
      branch.innerHTML = `
        <input type="text" placeholder="×©× ×”×¡× ×™×£" style="width:100%;padding:8px;margin-bottom:8px;border:1px solid #ddd;border-radius:6px;">
        <input type="text" placeholder="×›×ª×•×‘×ª" style="width:100%;padding:8px;margin-bottom:8px;border:1px solid #ddd;border-radius:6px;">
        <button type="button" onclick="this.parentElement.remove()" style="background:#dc3545;color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;width:100%;">××—×§ ×¡× ×™×£</button>
      `;
      container.appendChild(branch);
    }

    function toggleBusinessFields(value) {
      document.getElementById('company_number_group').style.display = value === 'company' ? 'block' : 'none';
      document.getElementById('company_files_group').style.display = value === 'company' ? 'block' : 'none';
      document.getElementById('authorized_number_group').style.display = value === 'authorized' ? 'block' : 'none';
      document.getElementById('authorized_files_group').style.display = value === 'authorized' ? 'block' : 'none';
    }

    function setupFileUploads() {
      document.querySelectorAll('input[type="file"]').forEach(input => {
        input.addEventListener('change', function() {
          const fileNameEl = document.getElementById(this.id + '_name');
          const container = document.getElementById(this.id + '_container');
          if (fileNameEl) {
            fileNameEl.textContent = this.files[0] ? `âœ“ ${this.files[0].name}` : '';
            fileNameEl.classList.toggle('error', !this.files[0]);
          }
          if (container) {
            container.classList.toggle('valid', !!this.files[0]);
            container.classList.toggle('invalid', !this.files[0]);
          }
        });
      });
    }

    function setupFormValidation() {
      const form = document.getElementById('clientForm');
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const submitBtn = document.getElementById('submitBtn');
        submitBtn.disabled = true;
        submitBtn.classList.add('loading');
        
        try {
          const formData = new FormData(form);
          const response = await fetch("https://docs.google.com/forms/d/e/1xZPYqsqnl6cZeCucfkzDTYlRBBC-rbipHLCAlHmvVnk/formResponse", {
            method: "POST",
            body: formData,
            mode: 'no-cors'
          });
          
          document.getElementById('successMsg').style.display = 'block';
          document.getElementById('errorMsg').style.display = 'none';
          form.reset();
          window.scrollTo({ top: 0, behavior: 'smooth' });
        } catch (error) {
          document.getElementById('errorMsg').style.display = 'block';
          document.getElementById('successMsg').style.display = 'none';
          console.error('Error:', error);
        } finally {
          submitBtn.disabled = false;
          submitBtn.classList.remove('loading');
        }
      });
    }

    function setupProgressTracking() {
      const form = document.getElementById('clientForm');
      const inputs = form.querySelectorAll('input, select, textarea');
      
      function updateProgress() {
        let filled = 0;
        inputs.forEach(input => {
          if (input.type === 'file') {
            if (input.files.length > 0) filled++;
          } else if (input.value.trim()) {
            filled++;
          }
        });
        
        const percentage = Math.round((filled / inputs.length) * 100);
        document.getElementById('progressFill').style.width = percentage + '%';
        document.getElementById('progressText').textContent = `${percentage}% - ${filled}/${inputs.length} ×©×“×•×ª ××•×œ××•`;
      }
      
      inputs.forEach(input => {
        input.addEventListener('change', updateProgress);
        input.addEventListener('input', updateProgress);
      });
    }
  </script>
</body>
</html>
